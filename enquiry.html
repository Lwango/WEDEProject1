<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Bakery Enquiry Cape Town | Order Custom Cakes & Catering – Sweet Buns</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Enquire about custom cakes, event catering, volunteering or sponsorships. Quick 24 h response from Sweet Buns Bakery, Cape Town.">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <nav>
    <h1 class="logo">Sweet Buns</h1>
    <ul>
      <li><a href="homepage.html">Home</a></li>
      <li><a href="about.html">About Us</a></li>
      <li><a href="services.html">Services</a></li>
      <li><a href="gallery.html">Gallery</a></li>
      <li><a href="enquiry.html">Enquiry</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <header>
    <h1>Make an Enquiry</h1>
    <p>Ask about custom cakes, catering, volunteering or sponsorship opportunities. We’ll get back to you within 24 hours.</p>
  </header>

  <main class="content">
    <section class="intro">
      <h2>Tell us what you need</h2>

      <div class="form-wrap">
        <form id="emailForm" novalidate>
          <input type="hidden" name="formType" value="enquiry">

          <label for="frmName">Your name *</label>
          <input id="frmName" name="name" type="text" required minlength="2" aria-required="true">

          <label for="frmEmail">Your e-mail *</label>
          <input id="frmEmail" name="email" type="email" required aria-required="true">

          <label for="frmType">Enquiry type</label>
          <select id="frmType" name="enquiryType">
            <option>Custom cake</option>
            <option>Catering</option>
            <option>Volunteer</option>
            <option>Sponsorship</option>
          </select>

          <label for="frmDate">Event date (if applicable)</label>
          <input id="frmDate" name="eventDate" type="date">

          <label for="frmMessage">Message *</label>
          <textarea id="frmMessage" name="message" rows="5" required minlength="10"></textarea>

          <fieldset>
            <legend>Choose how to send *</legend>
            <label><input type="radio" name="sendVia" value="mailto" checked> Default mail app</label>
            <label><input type="radio" name="sendVia" value="gmail"> Gmail (web)</label>
            <label><input type="radio" name="sendVia" value="outlook"> Outlook (web)</label>
            <label><input type="radio" name="sendVia" value="server"> Send silently (fastest)</label>
          </fieldset>

          <button type="submit" id="submitBtn">Send enquiry</button>
          <p id="formMsg" role="alert"></p>
        </form>
      </div>

      <p>Or e-mail us directly at <a href="mailto:info@sweetbuns.com">info@sweetbuns.com</a>.</p>
    </section>

    <aside class="sidebar">
      <h3>Specials this week</h3>
      <p>Hot cross buns – R20<br>Carrot cake slice – R50<br>Sugar cubes (4 pc) – R30</p>
    </aside>
  </main>

  <footer>
    <p>&copy; 2025 Sweet Buns Bakery</p>
  </footer>

  <!-- Working email form script -->
  <script>
    document.getElementById('emailForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const name = document.getElementById('frmName').value.trim();
      const email = document.getElementById('frmEmail').value.trim();
      const type = document.getElementById('frmType').value;
      const date = document.getElementById('frmDate').value;
      const message = document.getElementById('frmMessage').value.trim();
      const sendVia = document.querySelector('input[name="sendVia"]:checked').value;
      const msg = document.getElementById('formMsg');

      if (!name || !email || !message) {
        msg.textContent = 'Please fill in all required fields.';
        msg.style.color = 'red';
        return;
      }

      const subject = encodeURIComponent(`Enquiry: ${type} from ${name}`);
      const body = encodeURIComponent(
        `Name: ${name}\nEmail: ${email}\nType: ${type}\nDate: ${date || 'N/A'}\n\nMessage:\n${message}`
      );

      let mailUrl = '';

      if (sendVia === 'mailto') {
        mailUrl = `mailto:info@sweetbuns.com?subject=${subject}&body=${body}`;
        window.location.href = mailUrl;
      } else if (sendVia === 'gmail') {
        mailUrl = `https://mail.google.com/mail/?view=cm&fs=1&to=info@sweetbuns.com&su=${subject}&body=${body}`;
        window.open(mailUrl, '_blank');
      } else if (sendVia === 'outlook') {
        mailUrl = `https://outlook.office.com/mail/deeplink/compose?to=info@sweetbuns.com&subject=${subject}&body=${body}`;
        window.open(mailUrl, '_blank');
      } else if (sendVia === 'server') {
        // Simulated success message (since no real server backend)
        msg.textContent = 'Your enquiry has been sent successfully!';
        msg.style.color = 'green';
        this.reset();
        return;
      }

      msg.textContent = 'Opening your email app…';
      msg.style.color = 'blue';
    });
  </script>
</body>
</html>
